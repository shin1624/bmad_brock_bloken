# 13. デプロイメントアーキテクチャ

## 13.1 ビルドパイプライン
```yaml
# CI/CD Pipeline
stages:
  - lint
  - test
  - build
  - deploy

lint:
  script:
    - pnpm lint
    - pnpm type-check

test:
  script:
    - pnpm test:unit
    - pnpm test:integration
    - pnpm test:e2e

build:
  script:
    - pnpm build
    - pnpm build:analyze
  artifacts:
    paths:
      - dist/

deploy:
  script:
    - pnpm deploy
```

## 13.2 環境設定
```typescript
// 環境別設定
interface Config {
  apiUrl: string;
  debug: boolean;
  analytics: boolean;
}

const configs: Record<string, Config> = {
  development: {
    apiUrl: 'http://localhost:3000',
    debug: true,
    analytics: false
  },
  staging: {
    apiUrl: 'https://staging.api.example.com',
    debug: true,
    analytics: true
  },
  production: {
    apiUrl: 'https://api.example.com',
    debug: false,
    analytics: true
  }
};

export const config = configs[import.meta.env.MODE || 'development'];
```
