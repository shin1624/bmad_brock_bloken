# 10. テスト戦略

## 10.1 テストピラミッド
```
         /\
        /E2E\      (10%) - Playwright
       /------\
      /統合テスト\   (30%) - React Testing Library
     /----------\
    /ユニットテスト\  (60%) - Vitest
   /--------------\
```

## 10.2 テスト例
```typescript
// ユニットテスト例
describe('Ball', () => {
  it('should bounce off walls correctly', () => {
    const ball = new Ball({ x: 100, y: 100 }, { dx: 5, dy: 5 });
    ball.update(16); // 1フレーム更新
    
    expect(ball.position.x).toBe(105);
    expect(ball.position.y).toBe(105);
  });
  
  it('should reverse velocity on collision', () => {
    const ball = new Ball({ x: 0, y: 100 }, { dx: -5, dy: 5 });
    ball.checkWallCollision({ width: 800, height: 600 });
    
    expect(ball.velocity.dx).toBe(5); // 反転
    expect(ball.velocity.dy).toBe(5); // 変化なし
  });
});

// 統合テスト例
describe('GameUI', () => {
  it('should start game when start button clicked', async () => {
    render(<GameContainer />);
    
    const startButton = screen.getByText('Start Game');
    fireEvent.click(startButton);
    
    await waitFor(() => {
      expect(screen.getByTestId('game-canvas')).toBeInTheDocument();
    });
  });
});
```
